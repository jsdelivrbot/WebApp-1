<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="WebApp.css">
<title>WebApp</title>
</head>

<body>

<div style="border: 1px solid gray; padding: .4em;">
	Settings:
	<label style="margin-left: 1em; white-space:nowrap;">
		Page transition
		<select onchange="WebApp.setDefaultPageTransition(this.value);">
			<option value="none">None</option>
			<option value="fade" selected>Fade</option>
			<option value="pop">Pop</option>
			<option value="flip">Flip</option>
			<option value="fliprev">Flip Reverse</option>
			<option value="fliporder">Flip Order</option>
			<option value="slide">Slide</option>
			<option value="sliderev">Slide Reverse</option>
			<option value="slideorder">Slide Order</option>
		</select>
	</label>
	<label style="margin-left: 1em; white-space:nowrap;">
		Modal transition
		<select onchange="WebApp.setDefaultModalTransition(this.value);">
			<option value="none">None</option>
			<option value="fade">Fade</option>
			<option value="pop" selected>Pop</option>
			<option value="flip">Flip</option>
			<option value="fliprev">Flip Reverse</option>
			<option value="slide">Slide</option>
			<option value="sliderev">Slide Reverse</option>
		</select>
	</label>
	<label style="margin-left: 1em; white-space:nowrap;"><input type="checkbox" onchange="WebApp.setLogEnabled(this.checked);" checked> Enable log.</label>
</div>

<div class="page" id="firstPage">
	<h1>WebApp - <span style="color:#004;">First Page</span></h1>
	<p>If you are viewing this page (firstPage), it means that the current browser URL ends with "/index.html#firstPage"</p>
	#firstPage | <a href="#secondPage">#secondPage</a>
</div>

<div class="page" id="secondPage">
	<h1>WebApp - <span style="color:#040;">Second Page</span></h1>
	<p>If you are viewing this page (secondPage), it means that the current browser URL ends with "/index.html#secondPage"</p>
	<a href="#firstPage">#firstPage</a> | #secondPage
</div>

<div class="modal" id="modalWindow" onclick="window.history.back();">
	<div style="padding: 0.5em;" onclick="event.stopPropagation();">
		<h1>WebApp - <span style="color:#400;">Modal Window</span></h1>
		<p>If you are viewing this page (modalWindow), it means that the current browser URL ends with "/index.html#modalWindow"</p>
		<a href="#firstPage">#firstPage</a> | <a href="#secondPage">#secondPage</a>
		<br><br>
		<a href="javascript:window.history.back();">(hide modal)</a>
	</div>
</div>

<br>
<a href="#modalWindow">(show modal)</a>

<p id="logMonitor" style="font-family: monospace; color: gray;"></p>

<script src="WebApp.js"></script>

<script>
var logMonitor = document.getElementById('logMonitor');

//Set global callbacks:
WebApp.onLoad = function() {
	if (WebApp.isLogEnabled()) logMonitor.innerHTML = logMonitor.innerHTML + '<br>' + (new Date().toLocaleString()) + ': <span style="color:orange;">WebApp.onLoad()</span>';
}
WebApp.onUnload = function() {
	if (WebApp.isLogEnabled()) logMonitor.innerHTML = logMonitor.innerHTML + '<br>' + (new Date().toLocaleString()) + ': <span style="color:orange;">WebApp.onUnload()</span>';
}
WebApp.onPause = function() {
	if (WebApp.isLogEnabled()) logMonitor.innerHTML = logMonitor.innerHTML + '<br>' + (new Date().toLocaleString()) + ': <span style="color:orange;">WebApp.onPause()</span>';
}
WebApp.onResume = function() {
	if (WebApp.isLogEnabled()) logMonitor.innerHTML = logMonitor.innerHTML + '<br>' + (new Date().toLocaleString()) + ': <span style="color:orange;">WebApp.onResume()</span>';
}
WebApp.onResize = function() {
	if (WebApp.isLogEnabled()) logMonitor.innerHTML = logMonitor.innerHTML + '<br>' + (new Date().toLocaleString()) + ': <span style="color:orange;">WebApp.onResize()</span>';
}
WebApp.onKeyDown = function(keyEvent, pageElement) {
	if (WebApp.isLogEnabled()) logMonitor.innerHTML = logMonitor.innerHTML + '<br>' + (new Date().toLocaleString()) + ': <span style="color:orange;">WebApp.onKeyDown(' + keyEvent.keyCode + ', ' + pageElement.id + ')</span>';
};

//Set firstPage callbacks:
var firstPageElement = document.getElementById('firstPage');
firstPageElement.onLoad = function() {
	if (WebApp.isLogEnabled()) logMonitor.innerHTML = logMonitor.innerHTML + '<br>' + (new Date().toLocaleString()) + ': <span style="color:blue;">firstPageElement.onLoad()</span>';
};
firstPageElement.onShow = function(searchData, referrerElement) {
	if (WebApp.isLogEnabled()) logMonitor.innerHTML = logMonitor.innerHTML + '<br>' + (new Date().toLocaleString()) + ': <span style="color:blue;">firstPageElement.onShow(' + searchData + ', ' + (referrerElement? referrerElement.id: '') + ')</span>';
};
firstPageElement.onHide = function() {
	if (WebApp.isLogEnabled()) logMonitor.innerHTML = logMonitor.innerHTML + '<br>' + (new Date().toLocaleString()) + ': <span style="color:blue;">firstPageElement.onHide()</span>';
};
firstPageElement.onSearchChange = function(searchData) {
	if (WebApp.isLogEnabled()) logMonitor.innerHTML = logMonitor.innerHTML + '<br>' + (new Date().toLocaleString()) + ': <span style="color:blue;">firstPageElement.onSearchChange(' + searchData + ')</span>';
};

//Set secondPage callbacks:
var secondPageElement = document.getElementById('secondPage');
secondPageElement.onLoad = function() {
	if (WebApp.isLogEnabled()) logMonitor.innerHTML = logMonitor.innerHTML + '<br>' + (new Date().toLocaleString()) + ': <span style="color:green;">secondPageElement.onLoad()</span>';
};
secondPageElement.onShow = function(searchData, referrerElement) {
	if (WebApp.isLogEnabled()) logMonitor.innerHTML = logMonitor.innerHTML + '<br>' + (new Date().toLocaleString()) + ': <span style="color:green;">secondPageElement.onShow(' + searchData + ', ' + (referrerElement? referrerElement.id: '') + ')</span>';
};
secondPageElement.onHide = function() {
	if (WebApp.isLogEnabled()) logMonitor.innerHTML = logMonitor.innerHTML + '<br>' + (new Date().toLocaleString()) + ': <span style="color:green;">secondPageElement.onHide()</span>';
};
secondPageElement.onSearchChange = function(searchData) {
	if (WebApp.isLogEnabled()) logMonitor.innerHTML = logMonitor.innerHTML + '<br>' + (new Date().toLocaleString()) + ': <span style="color:green;">secondPageElement.onSearchChange(' + searchData + ')</span>';
};

//Set modalWindow callbacks:
var modalWindowElement = document.getElementById('modalWindow');
modalWindowElement.onLoad = function() {
	if (WebApp.isLogEnabled()) logMonitor.innerHTML = logMonitor.innerHTML + '<br>' + (new Date().toLocaleString()) + ': <span style="color:darkred;">modalWindowElement.onLoad()</span>';
};
modalWindowElement.onShow = function(searchData, referrerElement) {
	if (WebApp.isLogEnabled()) logMonitor.innerHTML = logMonitor.innerHTML + '<br>' + (new Date().toLocaleString()) + ': <span style="color:darkred;">modalWindowElement.onShow(' + searchData + ', ' + (referrerElement? referrerElement.id: '') + ')</span>';
};
modalWindowElement.onHide = function() {
	if (WebApp.isLogEnabled()) logMonitor.innerHTML = logMonitor.innerHTML + '<br>' + (new Date().toLocaleString()) + ': <span style="color:darkred;">modalWindowElement.onHide()</span>';
};
</script>

</body>

</html>
